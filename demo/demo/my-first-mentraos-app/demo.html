<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🏃‍♂️ Running Rhythm Demo - Auto Mode</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #00ff00;
            padding: 20px;
            margin: 0;
        }
        
        .glasses-display {
            width: 576px;
            height: 136px;
            border: 3px solid #00ff00;
            background: #000;
            color: #00ff00;
            padding: 10px;
            margin: 20px auto;
            font-size: 11px;
            font-family: 'Courier New', monospace;
            white-space: pre;
            overflow: hidden;
            line-height: 1.2;
        }
        
        .control-panel {
            max-width: 600px;
            margin: 20px auto;
            text-align: center;
        }
        
        button {
            background: #003300;
            color: #00ff00;
            border: 2px solid #00ff00;
            padding: 10px 20px;
            margin: 5px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            cursor: pointer;
        }
        
        button:hover {
            background: #00ff00;
            color: #000;
        }
        
        .info {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #00ff00;
            background: #001100;
        }
        
        .beat-indicator {
            font-size: 36px;
            text-align: center;
            margin: 10px 0;
            height: 50px;
            line-height: 50px;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">🏃‍♂️ Running Rhythm Demo - Smart Glasses Auto Mode</h1>
    
    <div class="info">
        <h2>📱 MentraOS Smart Glasses Display Simulation</h2>
        <p><strong>Display Specs:</strong> 576×136 pixels, 1-bit BMP, Monochrome</p>
        <p><strong>Demo Mode:</strong> Automatic rhythm demonstration</p>
        <p><strong>Current Status:</strong> <span id="status">Demo Running</span></p>
        <p><strong>Current Cadence:</strong> <span id="cadence">180</span> SPM</p>
    </div>

    <div class="glasses-display" id="display">
╔══════════════════════════════════════════════════════════════════════╗
║                      RUNNING RHYTHM DEMO                            ║
╠══════════════════════════════════════════════════════════════════════╣
║                                                                      ║
║  L●○  Step 001     Cadence: 180 SPM  ║
║  LEFT FOOT                 Status: OPTIMAL      ║
║                                                                      ║
║  Rhythm: ▁▃▅▇▅▃▁▃▅▇▅▃▁▃▅▇  ║
║                                                                      ║
║  Target Zone: 170-190 SPM  │  Current: ✅ PERFECT   ║
╚══════════════════════════════════════════════════════════════════════╝
    </div>

    <div class="control-panel">
        <h3>🎮 Demo Controls</h3>
        <button onclick="startDemo()" id="startBtn">▶️ Start Demo</button>
        <button onclick="stopDemo()" id="stopBtn">⏸️ Stop Demo</button>
        <button onclick="resetDemo()" id="resetBtn">🔄 Reset</button>
        
        <div class="beat-indicator" id="beatIndicator">🏃‍♂️</div>
        <p><strong>Phase:</strong> <span id="phaseInfo">Normal Pace (180 SPM)</span></p>
    </div>

    <div class="info">
        <h3>🏃‍♂️ Auto Demo Features</h3>
        <ul>
            <li><strong>Automatic Rhythm:</strong> No input required - pure visual demonstration</li>
            <li><strong>Cadence Phases:</strong> Cycles through different running speeds</li>
            <li><strong>Visual Feedback:</strong> Real-time step indicators and rhythm bars</li>
            <li><strong>Smart Display:</strong> Optimized for 576×136 monochrome glasses</li>
            <li><strong>Left/Right Steps:</strong> Clear foot placement guidance</li>
        </ul>
        
        <h3>📊 Demo Phases</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr style="border-bottom: 1px solid #00ff00;">
                <th style="text-align: left; padding: 5px;">Phase</th>
                <th style="text-align: left; padding: 5px;">Cadence</th>
                <th style="text-align: left; padding: 5px;">Description</th>
                <th style="text-align: left; padding: 5px;">Status</th>
            </tr>
            <tr><td style="padding: 5px;">1</td><td style="padding: 5px;">180 SPM</td><td style="padding: 5px;">Normal running pace</td><td style="padding: 5px;">✅ OPTIMAL</td></tr>
            <tr><td style="padding: 5px;">2</td><td style="padding: 5px;">160 SPM</td><td style="padding: 5px;">Slower jogging pace</td><td style="padding: 5px;">⬇️ TOO SLOW</td></tr>
            <tr><td style="padding: 5px;">3</td><td style="padding: 5px;">200 SPM</td><td style="padding: 5px;">Fast running pace</td><td style="padding: 5px;">⬆️ TOO FAST</td></tr>
            <tr><td style="padding: 5px;">4</td><td style="padding: 5px;">180 SPM</td><td style="padding: 5px;">Back to optimal</td><td style="padding: 5px;">✅ OPTIMAL</td></tr>
        </table>
        
        <h3>🎯 Usage on Smart Glasses</h3>
        <p>This demo runs automatically when loaded on MentraOS smart glasses. No user interaction required - perfect for demonstrating running rhythm concepts to users or for training purposes.</p>
    </div>

    <script>
        let cadence = 180;
        let isRunning = false;
        let demoInterval = null;
        let beatCount = 0;
        let phaseCount = 0;

        function createRunningDisplay(cadence, beatCount, leftFoot) {
            const feedback = cadence < 170 ? "SLOW PACE" : cadence > 190 ? "FAST PACE" : "OPTIMAL";
            const rhythmBar = generateRhythmBar(beatCount);
            const stepIndicator = leftFoot ? "L●○" : "○●R";
            const stepNum = beatCount.toString().padStart(3, '0');
            const footText = leftFoot ? 'LEFT ' : 'RIGHT';
            const statusIcon = cadence < 170 ? '⬇️ TOO SLOW' : cadence > 190 ? '⬆️ TOO FAST' : '✅ PERFECT';
            
            return `╔══════════════════════════════════════════════════════════════════════╗
║                      RUNNING RHYTHM DEMO                            ║
╠══════════════════════════════════════════════════════════════════════╣
║                                                                      ║
║  ${stepIndicator}  Step ${stepNum}     Cadence: ${cadence} SPM  ║
║  ${footText} FOOT                 Status: ${feedback}      ║
║                                                                      ║
║  Rhythm: ${rhythmBar}  ║
║                                                                      ║
║  Target Zone: 170-190 SPM  │  Current: ${statusIcon}   ║
╚══════════════════════════════════════════════════════════════════════╝`;
        }

        function generateRhythmBar(beatCount) {
            const bars = ['▁', '▃', '▅', '▇'];
            let rhythmBar = '';
            
            for (let i = 0; i < 16; i++) {
                const phase = (beatCount + i) * 0.4;
                const barHeight = Math.abs(Math.sin(phase)) * 3;
                rhythmBar += bars[Math.floor(barHeight)];
            }
            
            return rhythmBar;
        }

        function updatePhaseInfo() {
            const phases = [
                { cadence: 180, name: "Normal Pace", status: "OPTIMAL" },
                { cadence: 160, name: "Slow Jog", status: "TOO SLOW" },
                { cadence: 200, name: "Fast Run", status: "TOO FAST" },
                { cadence: 180, name: "Normal Pace", status: "OPTIMAL" }
            ];
            
            const currentPhase = phases[phaseCount % 4];
            document.getElementById('phaseInfo').textContent = 
                `${currentPhase.name} (${currentPhase.cadence} SPM) - ${currentPhase.status}`;
        }

        function demoLoop() {
            if (!isRunning) return;
            
            beatCount++;
            const leftFoot = beatCount % 2 === 1;
            
            // Change cadence every 20 beats
            if (beatCount % 20 === 0) {
                phaseCount++;
                switch (phaseCount % 4) {
                    case 0: cadence = 180; break;
                    case 1: cadence = 160; break;
                    case 2: cadence = 200; break;
                    case 3: cadence = 180; break;
                }
                updatePhaseInfo();
            }

            // Update display
            const display = createRunningDisplay(cadence, beatCount, leftFoot);
            document.getElementById('display').textContent = display;
            document.getElementById('cadence').textContent = cadence;
            document.getElementById('beatIndicator').textContent = leftFoot ? '🦶L' : '🦶R';

            // Schedule next beat
            const interval = (60 / cadence) * 1000;
            demoInterval = setTimeout(demoLoop, interval);
        }

        function startDemo() {
            if (!isRunning) {
                isRunning = true;
                document.getElementById('status').textContent = 'Demo Running';
                document.getElementById('startBtn').style.opacity = '0.5';
                document.getElementById('stopBtn').style.opacity = '1';
                updatePhaseInfo();
                demoLoop();
            }
        }

        function stopDemo() {
            if (isRunning) {
                isRunning = false;
                clearTimeout(demoInterval);
                document.getElementById('status').textContent = 'Demo Stopped';
                document.getElementById('startBtn').style.opacity = '1';
                document.getElementById('stopBtn').style.opacity = '0.5';
                document.getElementById('beatIndicator').textContent = '⏸️';
            }
        }

        function resetDemo() {
            stopDemo();
            beatCount = 0;
            phaseCount = 0;
            cadence = 180;
            updatePhaseInfo();
            
            const display = createRunningDisplay(cadence, 0, true);
            document.getElementById('display').textContent = display;
            document.getElementById('cadence').textContent = cadence;
            document.getElementById('beatIndicator').textContent = '🏃‍♂️';
        }

        // Auto-start demo after 2 seconds
        setTimeout(() => {
            startDemo();
        }, 2000);

        // Initialize
        updatePhaseInfo();
    </script>
</body>
</html> 